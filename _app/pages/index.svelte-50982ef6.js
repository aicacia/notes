import{R as Dt,K as De,C as Fe,L as kt,S as le,i as se,s as re,D as Oe,M as Ge,e as w,k as B,j as M,c as E,a as b,d,n as L,m as P,b as h,N as J,f as O,F as _,o as q,O as Q,G as Ne,H as je,I as Se,x as I,u as y,v as z,P as He,Q as Xe,J as x,T as Ze,A as Ce,U as ce,t as ie,g as oe,h as ve,V as ke,r as de,w as he,W as Ie,X as Be,Y as Qe,Z as Ye,_ as It,$ as xe,a0 as $t,a1 as yt,a2 as be,a3 as we,a4 as $e,a5 as et,a6 as Vt,l as ye,a7 as Tt,a8 as Le,a9 as Ue,aa as At,ab as Ot}from"../chunks/vendor-6caafef3.js";import{_ as Re}from"../chunks/preload-helper-b6664b8f.js";function Me(l){return l.length===0?"":l.map(e=>typeof e.insert=="string"?Ve(e.insert):Object.entries(e.insert).map(([t,n])=>`${Ve(t)} ${Ve(n)}`).join(" ")).join(" ")}function Ve(l){return l.toLowerCase().replace(/[^a-zA-Z0-9]+/g," ").trim()}const Nt="9lyiq72xyhr7k9q",jt="529675125422-b3b039lfhv4uh6cifiuum50u67j0nqu1.apps.googleusercontent.com",_e=new Dt;_e.setApiKeys({dropbox:Nt,googledrive:jt});const Te=_e.scope("/notes/");_e.access.claim("notes","rw");_e.caching.enable("/notes/");Te.declareType("note",{type:"object",properties:{id:{type:"string"},title:{type:"array",items:{type:"object"}},content:{type:"array",items:{type:"object"}},tags:{type:"array",items:{type:"string"}},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","title","content","tags","createdAt","updatedAt"]});const ge=Fe({}),Pe=De(ge,l=>Object.values(l).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())),St=De(ge,l=>l),Ct=De(Pe,l=>l.map(e=>[e.id,Me(e.title),Me(e.content)]));De(Pe,l=>l.reduce((e,t)=>(t.tags.forEach(n=>{e.add(n)}),e),new Set));function Bt(){const l=kt(),e={id:l,title:[],content:[],tags:[],createdAt:new Date,updatedAt:new Date};return ge.update(t=>(t[l]=e,t)),Te.storeObject("note",`${l}.json`,nt(e)),e}function Lt(l,e){ge.update(t=>{const n=t[l];return n&&(n.updatedAt=new Date,Object.assign(n,e),Te.storeObject("note",`${l}.json`,nt(n))),t})}function tt(l){ge.update(e=>(delete e[l]&&Te.remove(`${l}.json`),e))}function nt(l){return{id:l.id,title:l.title,content:l.content,tags:l.tags,createdAt:l.createdAt.toJSON(),updatedAt:l.updatedAt.toJSON()}}function Ut(l){return{id:l.id,title:l.title,content:l.content,tags:l.tags,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)}}_e.scope("/").getAll("/notes/",!1).then(l=>{ge.update(e=>(Object.values(l).forEach(t=>{e[t.id]=Ut(t)}),e))});const Rt=l=>({}),lt=l=>({});function Mt(l){let e,t,n,s,r,i,o,a,m,u,f,c,g,k,$,K;const C=l[4].title,N=Oe(C,l,l[3],lt);m=new Ge({});const R=l[4].default,T=Oe(R,l,l[3],null);return{c(){e=w("div"),t=w("div"),n=w("div"),s=w("div"),r=w("div"),N&&N.c(),i=B(),o=w("button"),a=w("div"),M(m.$$.fragment),u=B(),f=w("div"),T&&T.c(),c=B(),g=w("div"),this.h()},l(D){e=E(D,"DIV",{class:!0});var j=b(e);t=E(j,"DIV",{class:!0});var Y=b(t);n=E(Y,"DIV",{class:!0});var H=b(n);s=E(H,"DIV",{class:!0});var X=b(s);r=E(X,"DIV",{class:!0});var ee=b(r);N&&N.l(ee),ee.forEach(d),i=L(X),o=E(X,"BUTTON",{class:!0});var W=b(o);a=E(W,"DIV",{class:!0});var F=b(a);P(m.$$.fragment,F),F.forEach(d),W.forEach(d),X.forEach(d),u=L(H),f=E(H,"DIV",{class:!0});var v=b(f);T&&T.l(v),v.forEach(d),H.forEach(d),Y.forEach(d),j.forEach(d),c=L(D),g=E(D,"DIV",{class:!0}),b(g).forEach(d),this.h()},h(){h(r,"class","flex-grow"),h(a,"class","w-8 h-8"),h(o,"class","bg-transparent border-0 text-black outline-none focus:outline-none"),h(s,"class","flex items-start justify-between p-2"),h(f,"class","relative p-2 flex-auto"),h(n,"class","border-0 shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"),h(t,"class","relative my-6 w-96 md:w-1/3 mx-auto"),h(e,"class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"),J(e,"hidden",!l[0]),h(g,"class","opacity-25 fixed inset-0 z-40 bg-black"),J(g,"hidden",!l[0])},m(D,j){O(D,e,j),_(e,t),_(t,n),_(n,s),_(s,r),N&&N.m(r,null),_(s,i),_(s,o),_(o,a),q(m,a,null),_(n,u),_(n,f),T&&T.m(f,null),O(D,c,j),O(D,g,j),k=!0,$||(K=Q(o,"click",l[1]),$=!0)},p(D,[j]){N&&N.p&&(!k||j&8)&&Ne(N,C,D,D[3],k?Se(C,D[3],j,Rt):je(D[3]),lt),T&&T.p&&(!k||j&8)&&Ne(T,R,D,D[3],k?Se(R,D[3],j,null):je(D[3]),null),j&1&&J(e,"hidden",!D[0]),j&1&&J(g,"hidden",!D[0])},i(D){k||(I(N,D),I(m.$$.fragment,D),I(T,D),k=!0)},o(D){y(N,D),y(m.$$.fragment,D),y(T,D),k=!1},d(D){D&&d(e),N&&N.d(D),z(m),T&&T.d(D),D&&d(c),D&&d(g),$=!1,K()}}}function Pt(l,e,t){let{$$slots:n={},$$scope:s}=e,{onClose:r=()=>{}}=e,{open:i=!1}=e;function o(){t(0,i=!1),r()}return l.$$set=a=>{"onClose"in a&&t(2,r=a.onClose),"open"in a&&t(0,i=a.open),"$$scope"in a&&t(3,s=a.$$scope)},[i,o,r,s,n]}class st extends le{constructor(e){super();se(this,e,Pt,Mt,re,{onClose:2,open:0})}}function qt(l){let e,t,n,s;return{c(){e=w("div"),t=w("div"),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=b(e);t=E(i,"DIV",{}),b(t).forEach(d),i.forEach(d),this.h()},h(){h(e,"class","border")},m(r,i){O(r,e,i),_(e,t),l[7](t),n||(s=Q(t,"keydown",l[1],!0),n=!0)},p:x,i:x,o:x,d(r){r&&d(e),l[7](null),n=!1,s()}}}window.hljs=He,window.katex=Xe;function zt(l,e,t){let n,{content:s=[]}=e,{placeholder:r=void 0}=e,i,o;const a=Ze();function m(k){if(k.key!=="Backspace")return;const $=i?.getText();$!==""&&$!==`
`&&k.stopPropagation()}function u(){t(5,c=i.getContents().ops),t(2,s=c),a("change",s),a("textchange",arguments)}function f(){a("selectionchange",arguments)}let c;Ce(()=>{Re(()=>import("../chunks/index-6f94a413.js"),["chunks/index-6f94a413.js","chunks/vendor-6caafef3.js","assets/vendor-86f8c920.css"]).then(({createQuill:k})=>{t(4,i=k(o,r)),i.on("text-change",u),i.on("selection-change",f)})});function g(k){ce[k?"unshift":"push"](()=>{o=k,t(0,o)})}return l.$$set=k=>{"content"in k&&t(2,s=k.content),"placeholder"in k&&t(3,r=k.placeholder)},l.$$.update=()=>{l.$$.dirty&4&&t(6,n=s),l.$$.dirty&112&&c!==n&&i&&(t(5,c=n),i.setContents({ops:n},"silent"))},[o,m,s,r,i,c,n,g]}class rt extends le{constructor(e){super();se(this,e,zt,qt,re,{content:2,placeholder:3})}}function it(l){return Me(l).trim()===""}function Jt(l){let e;return{c(){e=w("div")},l(t){e=E(t,"DIV",{}),b(e).forEach(d)},m(t,n){O(t,e,n),l[4](e)},p:x,i:x,o:x,d(t){t&&d(e),l[4](null)}}}window.hljs=He,window.katex=Xe;function Wt(l,e,t){let{content:n}=e,s,r,i;Ce(()=>{Re(()=>import("../chunks/index-6f94a413.js"),["chunks/index-6f94a413.js","chunks/vendor-6caafef3.js","assets/vendor-86f8c920.css"]).then(({renderOps:a})=>{t(3,i=a),a(r,n)})});function o(a){ce[a?"unshift":"push"](()=>{r=a,t(0,r)})}return l.$$set=a=>{"content"in a&&t(1,n=a.content)},l.$$.update=()=>{l.$$.dirty&15&&r&&i&&s!==n&&(t(2,s=n),i(r,n))},[r,n,s,i,o]}class qe extends le{constructor(e){super();se(this,e,Wt,Jt,re,{content:1})}}function ot(l,e,t){const n=l.slice();return n[6]=e[t],n}function at(l){let e,t,n,s,r,i;return n=new Ge({}),{c(){e=w("div"),t=w("div"),M(n.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=b(e);t=E(a,"DIV",{class:!0});var m=b(t);P(n.$$.fragment,m),m.forEach(d),a.forEach(d),this.h()},h(){h(t,"class","w-4 h-4"),h(e,"class","inline-block text-center align-middle p-0 bg-red-500 text-white active:bg-red-600 cursor-pointer")},m(o,a){O(o,e,a),_(e,t),q(n,t,null),s=!0,r||(i=Q(e,"click",function(){ke(l[7](l[6]))&&l[7](l[6]).apply(this,arguments)}),r=!0)},p(o,a){l=o},i(o){s||(I(n.$$.fragment,o),s=!0)},o(o){y(n.$$.fragment,o),s=!1},d(o){o&&d(e),z(n),r=!1,i()}}}function ut(l){let e,t=l[6]+"",n,s,r,i=!l[3]&&at(l);return{c(){e=w("button"),n=ie(t),s=B(),i&&i.c(),this.h()},l(o){e=E(o,"BUTTON",{type:!0,class:!0});var a=b(e);n=oe(a,t),s=L(a),i&&i.l(a),a.forEach(d),this.h()},h(){h(e,"type","button"),e.disabled=l[3],h(e,"class","btn primary text-xs px-2 py-1 mr-1 mt-1 relative cursor-default")},m(o,a){O(o,e,a),_(e,n),_(e,s),i&&i.m(e,null),r=!0},p(o,a){(!r||a&1)&&t!==(t=o[6]+"")&&ve(n,t),o[3]?i&&(de(),y(i,1,1,()=>{i=null}),he()):i?(i.p(o,a),a&8&&I(i,1)):(i=at(o),i.c(),I(i,1),i.m(e,null)),(!r||a&8)&&(e.disabled=o[3])},i(o){r||(I(i),r=!0)},o(o){y(i),r=!1},d(o){o&&d(e),i&&i.d()}}}function ft(l){let e,t,n,s,r,i,o,a,m,u;return i=new Ye({}),{c(){e=w("div"),t=w("input"),n=B(),s=w("button"),r=w("div"),M(i.$$.fragment),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=b(e);t=E(c,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),n=L(c),s=E(c,"BUTTON",{type:!0,class:!0});var g=b(s);r=E(g,"DIV",{class:!0});var k=b(r);P(i.$$.fragment,k),k.forEach(d),g.forEach(d),c.forEach(d),this.h()},h(){h(t,"id",l[1]),h(t,"type","text"),h(t,"class","input border-0 focus:outline-0 focus:outline-none shadow-none w-auto"),h(t,"placeholder","Enter a tag"),h(r,"class","w-4 h-4"),h(s,"type","submit"),s.disabled=o=!l[6]||l[2],h(s,"class","btn p-2 primary"),h(e,"class","mt-1 flex")},m(f,c){O(f,e,c),_(e,t),l[9](t),Ie(t,l[6]),_(e,n),_(e,s),_(s,r),q(i,r,null),a=!0,m||(u=[Q(t,"input",l[10]),Q(t,"keypress",function(){ke(l[8])&&l[8].apply(this,arguments)}),Q(s,"click",function(){ke(l[5])&&l[5].apply(this,arguments)})],m=!0)},p(f,c){l=f,(!a||c&2)&&h(t,"id",l[1]),c&64&&t.value!==l[6]&&Ie(t,l[6]),(!a||c&68&&o!==(o=!l[6]||l[2]))&&(s.disabled=o)},i(f){a||(I(i.$$.fragment,f),a=!0)},o(f){y(i.$$.fragment,f),a=!1},d(f){f&&d(e),l[9](null),z(i),m=!1,Be(u)}}}function Kt(l){let e,t,n,s=l[0]||[],r=[];for(let a=0;a<s.length;a+=1)r[a]=ut(ot(l,s,a));const i=a=>y(r[a],1,1,()=>{r[a]=null});let o=!l[3]&&ft(l);return{c(){e=w("div");for(let a=0;a<r.length;a+=1)r[a].c();t=B(),o&&o.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var m=b(e);for(let u=0;u<r.length;u+=1)r[u].l(m);t=L(m),o&&o.l(m),m.forEach(d),this.h()},h(){h(e,"class","flex flex-wrap")},m(a,m){O(a,e,m);for(let u=0;u<r.length;u+=1)r[u].m(e,null);_(e,t),o&&o.m(e,null),n=!0},p(a,[m]){if(m&137){s=a[0]||[];let u;for(u=0;u<s.length;u+=1){const f=ot(a,s,u);r[u]?(r[u].p(f,m),I(r[u],1)):(r[u]=ut(f),r[u].c(),I(r[u],1),r[u].m(e,t))}for(de(),u=s.length;u<r.length;u+=1)i(u);he()}a[3]?o&&(de(),y(o,1,1,()=>{o=null}),he()):o?(o.p(a,m),m&8&&I(o,1)):(o=ft(a),o.c(),I(o,1),o.m(e,null))},i(a){if(!n){for(let m=0;m<s.length;m+=1)I(r[m]);I(o),n=!0}},o(a){r=r.filter(Boolean);for(let m=0;m<r.length;m+=1)y(r[m]);y(o),n=!1},d(a){a&&d(e),Qe(r,a),o&&o.d()}}}function Ft(l,e,t){let n,s,r,{id:i=void 0}=e,{tags:o=[]}=e,{loading:a=!1}=e,{disabled:m=!1}=e;const u=Ze();let f,c;function g($){ce[$?"unshift":"push"](()=>{f=$,t(4,f)})}function k(){c=this.value,t(6,c),t(2,a),t(0,o),t(4,f)}return l.$$set=$=>{"id"in $&&t(1,i=$.id),"tags"in $&&t(0,o=$.tags),"loading"in $&&t(2,a=$.loading),"disabled"in $&&t(3,m=$.disabled)},l.$$.update=()=>{l.$$.dirty&85&&t(5,n=()=>{a||(o||t(0,o=[]),c&&!o.includes(c)&&(o.push(c),t(6,c=""),u("change",o),t(0,o),t(2,a),t(6,c),t(4,f),f?.select()))}),l.$$.dirty&36&&t(8,s=$=>{a||$.key==="Enter"&&n()}),l.$$.dirty&21&&t(7,r=$=>function(){if(a)return;const C=o.indexOf($);C!==-1&&(o.splice(C,1),u("change",o),t(0,o),t(2,a),t(6,$),t(4,f),$="",f?.select())})},[o,i,a,m,f,n,c,r,s,g,k]}class ct extends le{constructor(e){super();se(this,e,Ft,Kt,re,{id:1,tags:0,loading:2,disabled:3})}}function Gt(l){let e,t,n,s,r,i,o,a,m,u,f,c,g,k,$,K,C,N,R,T,D,j,Y,H=l[0].createdAt.toLocaleDateString()+"",X,ee,W,F,v=l[0].updatedAt.toLocaleDateString()+"",ae,p,V=l[0].updatedAt.toLocaleTimeString()+"",G,Z,U,ue;return s=new qe({props:{content:l[0].title}}),m=new It({}),C=new ct({props:{disabled:!0,tags:l[0].tags}}),R=new qe({props:{content:l[0].content}}),{c(){e=w("div"),t=w("div"),n=w("div"),M(s.$$.fragment),r=B(),i=w("div"),o=w("button"),a=w("div"),M(m.$$.fragment),u=B(),f=w("div"),c=w("div"),g=w("button"),k=ie("Delete"),K=B(),M(C.$$.fragment),N=B(),M(R.$$.fragment),T=B(),D=w("div"),j=w("p"),Y=ie("Created "),X=ie(H),ee=B(),W=w("p"),F=ie("Updated "),ae=ie(v),p=B(),G=ie(V),this.h()},l(A){e=E(A,"DIV",{class:!0});var S=b(e);t=E(S,"DIV",{class:!0});var te=b(t);n=E(te,"DIV",{class:!0});var fe=b(n);P(s.$$.fragment,fe),fe.forEach(d),r=L(te),i=E(te,"DIV",{class:!0});var ne=b(i);o=E(ne,"BUTTON",{class:!0});var me=b(o);a=E(me,"DIV",{class:!0});var ze=b(a);P(m.$$.fragment,ze),ze.forEach(d),me.forEach(d),u=L(ne),f=E(ne,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-labelledby":!0,tabindex:!0});var Je=b(f);c=E(Je,"DIV",{class:!0,role:!0});var We=b(c);g=E(We,"BUTTON",{class:!0,role:!0,tabindex:!0,id:!0});var Ke=b(g);k=oe(Ke,"Delete"),Ke.forEach(d),We.forEach(d),Je.forEach(d),ne.forEach(d),te.forEach(d),K=L(S),P(C.$$.fragment,S),N=L(S),P(R.$$.fragment,S),T=L(S),D=E(S,"DIV",{class:!0});var Ee=b(D);j=E(Ee,"P",{class:!0});var Ae=b(j);Y=oe(Ae,"Created "),X=oe(Ae,H),Ae.forEach(d),ee=L(Ee),W=E(Ee,"P",{class:!0});var pe=b(W);F=oe(pe,"Updated "),ae=oe(pe,v),p=L(pe),G=oe(pe,V),pe.forEach(d),Ee.forEach(d),S.forEach(d),this.h()},h(){h(n,"class","flex-grow"),h(a,"class","w-8 h-8"),h(o,"class","bg-transparent border-0 text-black outline-none focus:outline-none"),h(g,"class","block w-full text-left px-4 py-2"),h(g,"role","menuitem"),h(g,"tabindex","-1"),h(g,"id","menu-item-1"),h(c,"class","py-1"),h(c,"role","none"),h(f,"class","origin-top-right absolute right-0 w-56 shadow-lg border bg-white transition ease-in-out duration-100"),h(f,"role","menu"),h(f,"aria-orientation","vertical"),h(f,"aria-labelledby","menu-button"),h(f,"tabindex","-1"),J(f,"opacity-0",!l[1]),J(f,"opacity-100",l[1]),J(f,"scale-95",!l[1]),J(f,"scale-100",l[1]),J(f,"z-20",l[1]),h(i,"class","relative"),h(t,"class","flex items-start justify-between"),h(j,"class","text-sm text-gray-500"),h(W,"class","text-sm text-gray-500"),h(D,"class","flex justify-between"),h(e,"class","bg-white shadow border p-2")},m(A,S){O(A,e,S),_(e,t),_(t,n),q(s,n,null),_(t,r),_(t,i),_(i,o),_(o,a),q(m,a,null),_(i,u),_(i,f),_(f,c),_(c,g),_(g,k),_(e,K),q(C,e,null),_(e,N),q(R,e,null),_(e,T),_(e,D),_(D,j),_(j,Y),_(j,X),_(D,ee),_(D,W),_(W,F),_(W,ae),_(W,p),_(W,G),Z=!0,U||(ue=[Q(o,"click",xe(l[4]),!0),Q(g,"click",xe(l[3]),!0),$t($=yt.call(null,f,l[7])),Q(e,"click",l[2])],U=!0)},p(A,[S]){const te={};S&1&&(te.content=A[0].title),s.$set(te),$&&ke($.update)&&S&2&&$.update.call(null,A[7]),S&2&&J(f,"opacity-0",!A[1]),S&2&&J(f,"opacity-100",A[1]),S&2&&J(f,"scale-95",!A[1]),S&2&&J(f,"scale-100",A[1]),S&2&&J(f,"z-20",A[1]);const fe={};S&1&&(fe.tags=A[0].tags),C.$set(fe);const ne={};S&1&&(ne.content=A[0].content),R.$set(ne),(!Z||S&1)&&H!==(H=A[0].createdAt.toLocaleDateString()+"")&&ve(X,H),(!Z||S&1)&&v!==(v=A[0].updatedAt.toLocaleDateString()+"")&&ve(ae,v),(!Z||S&1)&&V!==(V=A[0].updatedAt.toLocaleTimeString()+"")&&ve(G,V)},i(A){Z||(I(s.$$.fragment,A),I(m.$$.fragment,A),I(C.$$.fragment,A),I(R.$$.fragment,A),Z=!0)},o(A){y(s.$$.fragment,A),y(m.$$.fragment,A),y(C.$$.fragment,A),y(R.$$.fragment,A),Z=!1},d(A){A&&d(e),z(s),z(m),z(C),z(R),U=!1,Be(ue)}}}function Ht(l,e,t){let{note:n}=e,{onEdit:s}=e,{onDelete:r}=e;function i(){s(n)}function o(){t(1,a=!1),r(n)}let a=!1;function m(){t(1,a=!a)}const u=()=>t(1,a=!1);return l.$$set=f=>{"note"in f&&t(0,n=f.note),"onEdit"in f&&t(5,s=f.onEdit),"onDelete"in f&&t(6,r=f.onDelete)},[n,a,i,o,m,s,r,u]}class Xt extends le{constructor(e){super();se(this,e,Ht,Gt,re,{note:0,onEdit:5,onDelete:6})}}function dt(l,e,t){const n=l.slice();return n[26]=e[t],n}function ht(l){let e,t,n,s,r,i,o;function a(c){l[20](c)}let m={placeholder:"Notes"};l[2].content!==void 0&&(m.content=l[2].content),e=new rt({props:m}),ce.push(()=>be(e,"content",a)),e.$on("change",l[9]);function u(c){l[21](c)}let f={};return l[2].tags!==void 0&&(f.tags=l[2].tags),r=new ct({props:f}),ce.push(()=>be(r,"tags",u)),{c(){M(e.$$.fragment),n=B(),s=w("div"),M(r.$$.fragment),this.h()},l(c){P(e.$$.fragment,c),n=L(c),s=E(c,"DIV",{class:!0});var g=b(s);P(r.$$.fragment,g),g.forEach(d),this.h()},h(){h(s,"class","mb-2")},m(c,g){q(e,c,g),O(c,n,g),O(c,s,g),q(r,s,null),o=!0},p(c,g){const k={};!t&&g&4&&(t=!0,k.content=c[2].content,we(()=>t=!1)),e.$set(k);const $={};!i&&g&4&&(i=!0,$.tags=c[2].tags,we(()=>i=!1)),r.$set($)},i(c){o||(I(e.$$.fragment,c),I(r.$$.fragment,c),o=!0)},o(c){y(e.$$.fragment,c),y(r.$$.fragment,c),o=!1},d(c){z(e,c),c&&d(n),c&&d(s),z(r)}}}function Zt(l){let e,t,n=l[2]&&ht(l);return{c(){n&&n.c(),e=ye()},l(s){n&&n.l(s),e=ye()},m(s,r){n&&n.m(s,r),O(s,e,r),t=!0},p(s,r){s[2]?n?(n.p(s,r),r&4&&I(n,1)):(n=ht(s),n.c(),I(n,1),n.m(e.parentNode,e)):n&&(de(),y(n,1,1,()=>{n=null}),he())},i(s){t||(I(n),t=!0)},o(s){y(n),t=!1},d(s){n&&n.d(s),s&&d(e)}}}function mt(l){let e,t,n;function s(i){l[19](i)}let r={placeholder:"Title"};return l[2].title!==void 0&&(r.content=l[2].title),e=new rt({props:r}),ce.push(()=>be(e,"content",s)),e.$on("change",l[9]),{c(){M(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,o){q(e,i,o),n=!0},p(i,o){const a={};!t&&o&4&&(t=!0,a.content=i[2].title,we(()=>t=!1)),e.$set(a)},i(i){n||(I(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){z(e,i)}}}function Qt(l){let e,t,n=l[2]&&mt(l);return{c(){e=w("div"),n&&n.c(),this.h()},l(s){e=E(s,"DIV",{slot:!0});var r=b(e);n&&n.l(r),r.forEach(d),this.h()},h(){h(e,"slot","title")},m(s,r){O(s,e,r),n&&n.m(e,null),t=!0},p(s,r){s[2]?n?(n.p(s,r),r&4&&I(n,1)):(n=mt(s),n.c(),I(n,1),n.m(e,null)):n&&(de(),y(n,1,1,()=>{n=null}),he())},i(s){t||(I(n),t=!0)},o(s){y(n),t=!1},d(s){s&&d(e),n&&n.d()}}}function _t(l){let e,t,n,s,r,i,o,a,m;return e=new qe({props:{content:l[3].title}}),i=new Tt({}),{c(){M(e.$$.fragment),t=B(),n=w("div"),s=w("button"),r=w("div"),M(i.$$.fragment),this.h()},l(u){P(e.$$.fragment,u),t=L(u),n=E(u,"DIV",{class:!0});var f=b(n);s=E(f,"BUTTON",{class:!0});var c=b(s);r=E(c,"DIV",{class:!0});var g=b(r);P(i.$$.fragment,g),g.forEach(d),c.forEach(d),f.forEach(d),this.h()},h(){h(r,"class","w-8 h-8"),h(s,"class","btn danger"),h(n,"class","flex justify-center")},m(u,f){q(e,u,f),O(u,t,f),O(u,n,f),_(n,s),_(s,r),q(i,r,null),o=!0,a||(m=Q(s,"click",l[12]),a=!0)},p(u,f){const c={};f&8&&(c.content=u[3].title),e.$set(c)},i(u){o||(I(e.$$.fragment,u),I(i.$$.fragment,u),o=!0)},o(u){y(e.$$.fragment,u),y(i.$$.fragment,u),o=!1},d(u){z(e,u),u&&d(t),u&&d(n),z(i),a=!1,m()}}}function Yt(l){let e,t,n=l[3]&&_t(l);return{c(){n&&n.c(),e=ye()},l(s){n&&n.l(s),e=ye()},m(s,r){n&&n.m(s,r),O(s,e,r),t=!0},p(s,r){s[3]?n?(n.p(s,r),r&8&&I(n,1)):(n=_t(s),n.c(),I(n,1),n.m(e.parentNode,e)):n&&(de(),y(n,1,1,()=>{n=null}),he())},i(s){t||(I(n),t=!0)},o(s){y(n),t=!1},d(s){n&&n.d(s),s&&d(e)}}}function xt(l){let e,t;return{c(){e=w("h1"),t=ie("Delete Note?"),this.h()},l(n){e=E(n,"H1",{slot:!0});var s=b(e);t=oe(s,"Delete Note?"),s.forEach(d),this.h()},h(){h(e,"slot","title")},m(n,s){O(n,e,s),_(e,t)},d(n){n&&d(e)}}}function gt(l){let e,t,n,s;return t=new Xt({props:{note:l[26],onEdit:l[7],onDelete:l[8]}}),{c(){e=w("div"),M(t.$$.fragment),n=B(),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=b(e);P(t.$$.fragment,i),n=L(i),i.forEach(d),this.h()},h(){h(e,"class","break-inside py-2")},m(r,i){O(r,e,i),q(t,e,null),_(e,n),s=!0},p(r,i){const o={};i&32&&(o.note=r[26]),t.$set(o)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){y(t.$$.fragment,r),s=!1},d(r){r&&d(e),z(t)}}}function en(l){let e,t,n,s,r,i,o,a,m,u,f,c,g,k,$,K,C,N,R,T,D,j,Y;function H(p){l[22](p)}let X={onClose:l[10],$$slots:{title:[Qt],default:[Zt]},$$scope:{ctx:l}};l[0]!==void 0&&(X.open=l[0]),e=new st({props:X}),ce.push(()=>be(e,"open",H));function ee(p){l[23](p)}let W={onClose:l[11],$$slots:{title:[xt],default:[Yt]},$$scope:{ctx:l}};l[1]!==void 0&&(W.open=l[1]),s=new st({props:W}),ce.push(()=>be(s,"open",ee));let F=l[5],v=[];for(let p=0;p<F.length;p+=1)v[p]=gt(dt(l,F,p));const ae=p=>y(v[p],1,1,()=>{v[p]=null});return T=new Ye({}),{c(){M(e.$$.fragment),n=B(),M(s.$$.fragment),i=B(),o=w("div"),a=w("div"),m=w("div"),u=w("input"),f=B(),c=w("div"),g=w("div");for(let p=0;p<v.length;p+=1)v[p].c();k=B(),$=w("div"),K=w("div"),C=w("div"),N=w("button"),R=w("div"),M(T.$$.fragment),this.h()},l(p){P(e.$$.fragment,p),n=L(p),P(s.$$.fragment,p),i=L(p),o=E(p,"DIV",{class:!0});var V=b(o);a=E(V,"DIV",{class:!0});var G=b(a);m=E(G,"DIV",{class:!0});var Z=b(m);u=E(Z,"INPUT",{class:!0,type:!0,placeholder:!0}),Z.forEach(d),G.forEach(d),f=L(V),c=E(V,"DIV",{class:!0});var U=b(c);g=E(U,"DIV",{class:!0});var ue=b(g);for(let me=0;me<v.length;me+=1)v[me].l(ue);ue.forEach(d),U.forEach(d),V.forEach(d),k=L(p),$=E(p,"DIV",{class:!0});var A=b($);K=E(A,"DIV",{class:!0});var S=b(K);C=E(S,"DIV",{class:!0});var te=b(C);N=E(te,"BUTTON",{class:!0});var fe=b(N);R=E(fe,"DIV",{class:!0});var ne=b(R);P(T.$$.fragment,ne),ne.forEach(d),fe.forEach(d),te.forEach(d),S.forEach(d),A.forEach(d),this.h()},h(){h(u,"class","input"),h(u,"type","text"),h(u,"placeholder","Search..."),h(m,"class","mx-auto container"),h(a,"class","w-full fixed top-0 bg-black shadow border-b py-1 z-10"),h(g,"class","masonry-1 sm:masonry-2 md:masonry-3 lg:masonry-4 masonry-gap-2"),h(c,"class","mx-auto container mt-10 mb-24"),h(o,"class","flex-grow relative mt-2 overflow-auto"),h(R,"class","w-10 h-10"),h(N,"class","btn primary p-2 rounded-full shadow-xl"),h(C,"class","absolute bottom-8 right-0"),h(K,"class","container mx-auto mb-8 p-4 relative"),h($,"class","fixed bottom-0 w-full")},m(p,V){q(e,p,V),O(p,n,V),q(s,p,V),O(p,i,V),O(p,o,V),_(o,a),_(a,m),_(m,u),Ie(u,l[4]),_(o,f),_(o,c),_(c,g);for(let G=0;G<v.length;G+=1)v[G].m(g,null);O(p,k,V),O(p,$,V),_($,K),_(K,C),_(C,N),_(N,R),q(T,R,null),D=!0,j||(Y=[Q(u,"input",l[24]),Q(u,"input",l[13]),Q(N,"click",l[6])],j=!0)},p(p,[V]){const G={};V&536870916&&(G.$$scope={dirty:V,ctx:p}),!t&&V&1&&(t=!0,G.open=p[0],we(()=>t=!1)),e.$set(G);const Z={};if(V&536870920&&(Z.$$scope={dirty:V,ctx:p}),!r&&V&2&&(r=!0,Z.open=p[1],we(()=>r=!1)),s.$set(Z),V&16&&u.value!==p[4]&&Ie(u,p[4]),V&416){F=p[5];let U;for(U=0;U<F.length;U+=1){const ue=dt(p,F,U);v[U]?(v[U].p(ue,V),I(v[U],1)):(v[U]=gt(ue),v[U].c(),I(v[U],1),v[U].m(g,null))}for(de(),U=F.length;U<v.length;U+=1)ae(U);he()}},i(p){if(!D){I(e.$$.fragment,p),I(s.$$.fragment,p);for(let V=0;V<F.length;V+=1)I(v[V]);I(T.$$.fragment,p),D=!0}},o(p){y(e.$$.fragment,p),y(s.$$.fragment,p),v=v.filter(Boolean);for(let V=0;V<v.length;V+=1)y(v[V]);y(T.$$.fragment,p),D=!1},d(p){z(e,p),p&&d(n),z(s,p),p&&d(i),p&&d(o),Qe(v,p),p&&d(k),p&&d($),z(T),j=!1,Be(Y)}}}function tn(l,e,t){let n,s,r,i,o;$e(l,St,v=>t(16,r=v)),$e(l,Pe,v=>t(17,i=v)),$e(l,Ct,v=>t(18,o=v));let a=!1,m=!1,u,f;function c(){g(Bt())}function g(v){t(0,a=!0),t(2,u=v)}function k(v){t(1,m=!0),t(3,f=v)}function $(){u&&Lt(u.id,u)}const K=et($,300);function C(){u&&(it(u.title)&&it(u.content)&&tt(u.id),t(2,u=void 0))}function N(){t(2,u=void 0)}function R(){tt(f.id),t(1,m=!1),N()}let T,D;const j=et(()=>{t(14,T=Ve(D))},300);function Y(v){l.$$.not_equal(u.title,v)&&(u.title=v,t(2,u))}function H(v){l.$$.not_equal(u.content,v)&&(u.content=v,t(2,u))}function X(v){l.$$.not_equal(u.tags,v)&&(u.tags=v,t(2,u))}function ee(v){a=v,t(0,a)}function W(v){m=v,t(1,m)}function F(){D=this.value,t(4,D)}return l.$$.update=()=>{l.$$.dirty&409600&&t(15,n=T?o.filter(([v,ae,p])=>Vt(T,ae)||p.includes(T)).map(([v])=>v):i.map(v=>v.id)),l.$$.dirty&98304&&t(5,s=n.map(v=>r[v]))},[a,m,u,f,D,s,c,g,k,K,C,N,R,j,T,n,r,i,o,Y,H,X,ee,W,F]}class nn extends le{constructor(e){super();se(this,e,tn,en,re,{})}}function ln(l){let e;return{c(){e=w("div"),this.h()},l(t){e=E(t,"DIV",{id:!0}),b(e).forEach(d),this.h()},h(){h(e,"id","remote-storage-widget")},m(t,n){O(t,e,n)},p:x,i:x,o:x,d(t){t&&d(e)}}}function sn(l,e,t){let{element:n=void 0}=e,{widget:s=void 0}=e;return Ce(()=>{Re(()=>import("../chunks/widget-3e963cc8.js").then(function(r){return r.w}),[]).then(({default:r})=>{const i=new r(_e);i.attach("remote-storage-widget"),function o(){i.rsWidget?(t(1,s=i),t(0,n=i.rsWidget)):setTimeout(o,1e3)}()})}),l.$$set=r=>{"element"in r&&t(0,n=r.element),"widget"in r&&t(1,s=r.widget)},[n,s]}class rn extends le{constructor(e){super();se(this,e,sn,ln,re,{element:0,widget:1})}}var pt;(function(l){l.Success="success",l.Error="error",l.Info="info",l.Warning="warning"})(pt||(pt={}));const vt=Fe([]),on=vt;function an(l){vt.update(e=>{const t=e.findIndex(n=>n.id===l);return t===-1||e.splice(t,1),e})}function bt(l,e,t){const n=l.slice();return n[2]=e[t],n}function wt(l){let e,t,n,s;return{c(){e=w("div"),t=Le("svg"),n=Le("path"),s=Le("path"),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=b(e);t=Ue(i,"svg",{width:!0,height:!0,viewBox:!0,class:!0,fill:!0,xmlns:!0});var o=b(t);n=Ue(o,"path",{"fill-rule":!0,d:!0}),b(n).forEach(d),s=Ue(o,"path",{"fill-rule":!0,d:!0}),b(s).forEach(d),o.forEach(d),i.forEach(d),this.h()},h(){h(n,"fill-rule","evenodd"),h(n,"d","M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"),h(s,"fill-rule","evenodd"),h(s,"d","M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"),h(t,"width","1.8em"),h(t,"height","1.8em"),h(t,"viewBox","0 0 16 16"),h(t,"class","bi bi-x"),h(t,"fill","currentColor"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","text-red-500 rounded-full bg-white mr-3")},m(r,i){O(r,e,i),_(e,t),_(t,n),_(t,s)},d(r){r&&d(e)}}}function Et(l,e){let t,n,s,r=e[2].message+"",i,o,a,m,u=e[2].type==="error"&&wt();function f(){return e[1](e[2])}return{key:l,first:null,c(){t=w("div"),u&&u.c(),n=B(),s=w("div"),i=ie(r),o=B(),this.h()},l(c){t=E(c,"DIV",{class:!0});var g=b(t);u&&u.l(g),n=L(g),s=E(g,"DIV",{class:!0});var k=b(s);i=oe(k,r),k.forEach(d),o=L(g),g.forEach(d),this.h()},h(){h(s,"class","text-white max-w-xs "),h(t,"class","flex items-center rounded py-2 px-3 shadow-md mb-2 cursor-pointer"),J(t,"bg-green-500",e[2].type==="success"),J(t,"bg-red-500",e[2].type==="error"),this.first=t},m(c,g){O(c,t,g),u&&u.m(t,null),_(t,n),_(t,s),_(s,i),_(t,o),a||(m=Q(t,"click",f),a=!0)},p(c,g){e=c,e[2].type==="error"?u||(u=wt(),u.c(),u.m(t,n)):u&&(u.d(1),u=null),g&1&&r!==(r=e[2].message+"")&&ve(i,r),g&1&&J(t,"bg-green-500",e[2].type==="success"),g&1&&J(t,"bg-red-500",e[2].type==="error")},d(c){c&&d(t),u&&u.d(),a=!1,m()}}}function un(l){let e,t=[],n=new Map,s=l[0];const r=i=>i[2].id.toString();for(let i=0;i<s.length;i+=1){let o=bt(l,s,i),a=r(o);n.set(a,t[i]=Et(a,o))}return{c(){e=w("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=E(i,"DIV",{class:!0});var o=b(e);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(d),this.h()},h(){h(e,"class","p-2 absolute bottom-0 w-full")},m(i,o){O(i,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(i,[o]){o&1&&(s=i[0],t=At(t,o,r,1,i,s,n,e,Ot,Et,null,bt))},i:x,o:x,d(i){i&&d(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function fn(l,e,t){let n;return $e(l,on,r=>t(0,n=r)),[n,r=>an(r.id)]}class cn extends le{constructor(e){super();se(this,e,fn,un,re,{})}}function dn(l){let e,t,n,s,r,i,o,a;const m=l[1].default,u=Oe(m,l,l[0],null);return r=new rn({}),o=new cn({}),{c(){e=w("div"),t=w("div"),u&&u.c(),n=B(),s=w("div"),M(r.$$.fragment),i=B(),M(o.$$.fragment),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=b(e);t=E(c,"DIV",{class:!0});var g=b(t);u&&u.l(g),g.forEach(d),n=L(c),s=E(c,"DIV",{class:!0});var k=b(s);P(r.$$.fragment,k),k.forEach(d),i=L(c),P(o.$$.fragment,c),c.forEach(d),this.h()},h(){h(t,"class","flex flex-col flex-grow"),h(s,"class","absolute left-0 bottom-0"),h(e,"class","h-screen w-screen bg-gray-200 flex")},m(f,c){O(f,e,c),_(e,t),u&&u.m(t,null),_(e,n),_(e,s),q(r,s,null),_(e,i),q(o,e,null),a=!0},p(f,[c]){u&&u.p&&(!a||c&1)&&Ne(u,m,f,f[0],a?Se(m,f[0],c,null):je(f[0]),null)},i(f){a||(I(u,f),I(r.$$.fragment,f),I(o.$$.fragment,f),a=!0)},o(f){y(u,f),y(r.$$.fragment,f),y(o.$$.fragment,f),a=!1},d(f){f&&d(e),u&&u.d(f),z(r),z(o)}}}function hn(l,e,t){let{$$slots:n={},$$scope:s}=e;return l.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class mn extends le{constructor(e){super();se(this,e,hn,dn,re,{})}}function _n(l){let e,t;return e=new nn({}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){q(e,n,s),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function gn(l){let e,t;return e=new mn({props:{$$slots:{default:[_n]},$$scope:{ctx:l}}}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){q(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}class bn extends le{constructor(e){super();se(this,e,null,gn,re,{})}}export{bn as default};
